
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A personal booru-style media tagger that can import files and tags from your hard drive and popular websites. Content can be shared with other users via user-run servers.">
      
      
      
        <link rel="canonical" href="https://hydrusnetwork.github.io/hydrus/changelog.html">
      
      
        <link rel="prev" href="support.html">
      
      
        <link rel="next" href="about_docs.html">
      
      
      <link rel="icon" href="assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Changelog - hydrus network</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#changelog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="hydrus network" class="md-header__button md-logo" aria-label="hydrus network" data-md-component="logo">
      
  <img src="assets/hydrus-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hydrus network
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Changelog
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hydrusnetwork/hydrus" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hydrusnetwork/hydrus
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="introduction.html" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="advanced_siblings.html" class="md-tabs__link">
          
  
  Advanced

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="client_api.html" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="faq.html" class="md-tabs__link">
          
  
  Misc

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="hydrus network" class="md-nav__button md-logo" aria-label="hydrus network" data-md-component="logo">
      
  <img src="assets/hydrus-white.svg" alt="logo">

    </a>
    hydrus network
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hydrusnetwork/hydrus" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hydrusnetwork/hydrus
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction and Statement of Principles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gettingStartedOverview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview For Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_installing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing and Updating
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filetypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Filetypes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_importing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing and Exporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_tags.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_searching.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Searching and Sorting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_more_tags.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    More Tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_downloading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_ratings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12" >
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PTR
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            PTR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="access_keys.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PTR Access Keys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PTR.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PTR Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="petitionPractices.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Petition Practices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Next Steps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            Next Steps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="adding_new_downloaders.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding New Downloaders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_subscriptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subscriptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="duplicates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filtering Duplicates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_siblings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tag Siblings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_parents.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tag Parents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_sidecars.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sidecars
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_multiple_local_file_services.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple Local File Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Clever Tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reducing_lag.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reducing Lag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database_migration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Migration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="launch_arguments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launch Arguments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ipfs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPFS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="local_booru.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local Booru
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="server.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Your Own Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Alternate Installations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            Alternate Installations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="docker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wine.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running In Wine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="running_from_source.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running From Source
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13" >
        
          
          <label class="md-nav__link" for="__nav_3_13" id="__nav_3_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Downloader Creation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13">
            <span class="md-nav__icon md-icon"></span>
            Downloader Creation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_gugs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gallery URL Generators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_url_classes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URL Classes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13_4" >
        
          
          <label class="md-nav__link" for="__nav_3_13_4" id="__nav_3_13_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parsers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_13_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13_4">
            <span class="md-nav__icon md-icon"></span>
            Parsers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_13_4_2" id="__nav_3_13_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_13_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13_4_2">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_formulae.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Formulae
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_content_parsers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Content Parsers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_page_parsers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Page Parsers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13_4_3" >
        
          
          <label class="md-nav__link" for="__nav_3_13_4_3" id="__nav_3_13_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Walkthroughs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_13_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13_4_3">
            <span class="md-nav__icon md-icon"></span>
            Walkthroughs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_gallery_page.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gallery Page Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_file_page.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Page Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_completion.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Putting It All Together
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_sharing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sharing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloader_login.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Login Manager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="client_api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="developer_api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="privacy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="contact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact and Links
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="support.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Financial Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="changelog.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version_570" class="md-nav__link">
    <span class="md-ellipsis">
      Version 570
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 570">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      UI stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more_url_stuff_advanced_can_be_ignored_by_most" class="md-nav__link">
    <span class="md-ellipsis">
      more URL stuff (advanced, can be ignored by most)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_569" class="md-nav__link">
    <span class="md-ellipsis">
      Version 569
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 569">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_contributions" class="md-nav__link">
    <span class="md-ellipsis">
      user contributions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more_on_last_weeks_url_work" class="md-nav__link">
    <span class="md-ellipsis">
      more on last week's URL work
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_1" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_568" class="md-nav__link">
    <span class="md-ellipsis">
      Version 568
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 568">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_contributions_1" class="md-nav__link">
    <span class="md-ellipsis">
      user contributions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_improvements" class="md-nav__link">
    <span class="md-ellipsis">
      misc improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_fixes" class="md-nav__link">
    <span class="md-ellipsis">
      misc fixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#append_random_text" class="md-nav__link">
    <span class="md-ellipsis">
      append random text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url_storagedisplay_changes" class="md-nav__link">
    <span class="md-ellipsis">
      URL storage/display changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_all_ephemeral_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      allow all ephemeral parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_specific_ephemeral_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      allow specific ephemeral parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_url_classes_dialog" class="md-nav__link">
    <span class="md-ellipsis">
      manage url classes dialog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff_2" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_567_was_cancelled_its_changes_folded_into_568" class="md-nav__link">
    <span class="md-ellipsis">
      Version 567 was cancelled, its changes folded into 568.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_566" class="md-nav__link">
    <span class="md-ellipsis">
      Version 566
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 566">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incremental_tagging" class="md-nav__link">
    <span class="md-ellipsis">
      incremental tagging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_2" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_code_cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      boring code cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_565" class="md-nav__link">
    <span class="md-ellipsis">
      Version 565
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 565">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag_sorting_bonanza" class="md-nav__link">
    <span class="md-ellipsis">
      tag sorting bonanza
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag_filter" class="md-nav__link">
    <span class="md-ellipsis">
      tag filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenated_source_urls" class="md-nav__link">
    <span class="md-ellipsis">
      concatenated source urls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note_sidecars" class="md-nav__link">
    <span class="md-ellipsis">
      note sidecars
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_3" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_1" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_564" class="md-nav__link">
    <span class="md-ellipsis">
      Version 564
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 564">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#more_macos_work" class="md-nav__link">
    <span class="md-ellipsis">
      more macOS work
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new_fuzzy_operator_math_in_system_predicates" class="md-nav__link">
    <span class="md-ellipsis">
      new fuzzy operator math in system predicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_4" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_2" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_predicate_overhaul_work" class="md-nav__link">
    <span class="md-ellipsis">
      boring predicate overhaul work
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_563" class="md-nav__link">
    <span class="md-ellipsis">
      Version 563
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 563">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macos_improvements" class="md-nav__link">
    <span class="md-ellipsis">
      macOS improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    <span class="md-ellipsis">
      shortcuts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_ui_qol" class="md-nav__link">
    <span class="md-ellipsis">
      some UI QoL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_5" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag_repository" class="md-nav__link">
    <span class="md-ellipsis">
      tag repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      build stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_562" class="md-nav__link">
    <span class="md-ellipsis">
      Version 562
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 562">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#misc_6" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixes" class="md-nav__link">
    <span class="md-ellipsis">
      fixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyze" class="md-nav__link">
    <span class="md-ellipsis">
      analyze
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_code_cleanup_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring code cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_561" class="md-nav__link">
    <span class="md-ellipsis">
      Version 561
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 561">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rearranging_thumbnails" class="md-nav__link">
    <span class="md-ellipsis">
      rearranging thumbnails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_7" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db_update_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      db update stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_downloader_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      some downloader stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_560" class="md-nav__link">
    <span class="md-ellipsis">
      Version 560
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 560">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#editing_times_for_multiple_files" class="md-nav__link">
    <span class="md-ellipsis">
      editing times for multiple files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_8" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_time_code" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup, time code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_content_updates" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup, content updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_3" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="about_docs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About These Docs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version_570" class="md-nav__link">
    <span class="md-ellipsis">
      Version 570
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 570">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      UI stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more_url_stuff_advanced_can_be_ignored_by_most" class="md-nav__link">
    <span class="md-ellipsis">
      more URL stuff (advanced, can be ignored by most)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_569" class="md-nav__link">
    <span class="md-ellipsis">
      Version 569
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 569">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_contributions" class="md-nav__link">
    <span class="md-ellipsis">
      user contributions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more_on_last_weeks_url_work" class="md-nav__link">
    <span class="md-ellipsis">
      more on last week's URL work
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_1" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_568" class="md-nav__link">
    <span class="md-ellipsis">
      Version 568
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 568">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_contributions_1" class="md-nav__link">
    <span class="md-ellipsis">
      user contributions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_improvements" class="md-nav__link">
    <span class="md-ellipsis">
      misc improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_fixes" class="md-nav__link">
    <span class="md-ellipsis">
      misc fixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#append_random_text" class="md-nav__link">
    <span class="md-ellipsis">
      append random text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url_storagedisplay_changes" class="md-nav__link">
    <span class="md-ellipsis">
      URL storage/display changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_all_ephemeral_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      allow all ephemeral parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_specific_ephemeral_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      allow specific ephemeral parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_url_classes_dialog" class="md-nav__link">
    <span class="md-ellipsis">
      manage url classes dialog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_stuff_2" class="md-nav__link">
    <span class="md-ellipsis">
      boring stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_567_was_cancelled_its_changes_folded_into_568" class="md-nav__link">
    <span class="md-ellipsis">
      Version 567 was cancelled, its changes folded into 568.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_566" class="md-nav__link">
    <span class="md-ellipsis">
      Version 566
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 566">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incremental_tagging" class="md-nav__link">
    <span class="md-ellipsis">
      incremental tagging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_2" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_code_cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      boring code cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_565" class="md-nav__link">
    <span class="md-ellipsis">
      Version 565
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 565">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag_sorting_bonanza" class="md-nav__link">
    <span class="md-ellipsis">
      tag sorting bonanza
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag_filter" class="md-nav__link">
    <span class="md-ellipsis">
      tag filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenated_source_urls" class="md-nav__link">
    <span class="md-ellipsis">
      concatenated source urls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note_sidecars" class="md-nav__link">
    <span class="md-ellipsis">
      note sidecars
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_3" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_1" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_564" class="md-nav__link">
    <span class="md-ellipsis">
      Version 564
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 564">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#more_macos_work" class="md-nav__link">
    <span class="md-ellipsis">
      more macOS work
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new_fuzzy_operator_math_in_system_predicates" class="md-nav__link">
    <span class="md-ellipsis">
      new fuzzy operator math in system predicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_4" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_2" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_predicate_overhaul_work" class="md-nav__link">
    <span class="md-ellipsis">
      boring predicate overhaul work
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_563" class="md-nav__link">
    <span class="md-ellipsis">
      Version 563
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 563">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macos_improvements" class="md-nav__link">
    <span class="md-ellipsis">
      macOS improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    <span class="md-ellipsis">
      shortcuts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_ui_qol" class="md-nav__link">
    <span class="md-ellipsis">
      some UI QoL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_5" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag_repository" class="md-nav__link">
    <span class="md-ellipsis">
      tag repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      build stuff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_562" class="md-nav__link">
    <span class="md-ellipsis">
      Version 562
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 562">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#misc_6" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixes" class="md-nav__link">
    <span class="md-ellipsis">
      fixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyze" class="md-nav__link">
    <span class="md-ellipsis">
      analyze
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_code_cleanup_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring code cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_561" class="md-nav__link">
    <span class="md-ellipsis">
      Version 561
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 561">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rearranging_thumbnails" class="md-nav__link">
    <span class="md-ellipsis">
      rearranging thumbnails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_7" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db_update_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      db update stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_downloader_stuff" class="md-nav__link">
    <span class="md-ellipsis">
      some downloader stuff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version_560" class="md-nav__link">
    <span class="md-ellipsis">
      Version 560
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version 560">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#editing_times_for_multiple_files" class="md-nav__link">
    <span class="md-ellipsis">
      editing times for multiple files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_8" class="md-nav__link">
    <span class="md-ellipsis">
      misc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_1" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_time_code" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup, time code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boring_cleanup_content_updates" class="md-nav__link">
    <span class="md-ellipsis">
      boring cleanup, content updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_api_3" class="md-nav__link">
    <span class="md-ellipsis">
      client api
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/hydrusnetwork/hydrus/edit/master/docs/changelog.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="changelog">changelog<a class="headerlink" href="#changelog" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the new changelog, only the most recent builds. For all versions, see the <a href="old_changelog.html">old changelog</a>.</p>
</div>
<h2 id="version_570"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v570">Version 570</a><a class="headerlink" href="#version_570" title="Permanent link">&para;</a></h2>
<h3 id="ui_stuff">UI stuff<a class="headerlink" href="#ui_stuff" title="Permanent link">&para;</a></h3>
<ul>
<li>wrote a thing to wrap tooltips and applied it everywhere. every tooltip in the program should now wrap to 80 characters</li>
<li>the thumbnail view is now better about pausing the current video if you open it externally in various ways</li>
<li>the 'open' submenu you get off of a file right-click is now exactly the same for the thumbnail menu and the media viewer menu, with all commands working in either place, the labels are also brushed up a little</li>
<li>added a shortcut action for 'open file in web browser' to the media shortcut set</li>
<li>added a shortcut action for 'open files in a new duplicates filter page' to the media shortcut set</li>
<li>added/updated the shortcut action for 'open similar looking files in a new page' in the media shortcut set. this is now one job that lets you set any distance, and it now works from the media viewer too. all existing <code>show similar files: 0 (exact)</code> fixed-distance simple actions will be converted to the new action when you update</li>
<li>I removed 'open externally' and 'open in file explorer' shortcuts from the media viewer/preview viewer/thumbnails sets. these sets are technically awkward and were really meant for a different thing, like pause/play or 'close media viewer', and having the media command code duplicated here was getting spammy. if you have any of these now-defunct commands set, please move them up to the general 'media' set, where it'll work everywhere. sorry if this breaks a very complicated set you have, but let's KISS!</li>
<li>the 'files' submenu off thumbnails or the media viewer is flattened one level. the 'upload to' remote services stuff still isn't available for the media viewer, but I'll do the same as I did above for that in the near future</li>
</ul>
<h3 id="misc">misc<a class="headerlink" href="#misc" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed an issue with the 'manage tag siblings/parents' dialogs where the mass-import button was, in 'add or delete' mode, not doing any deletes/rescinds if there were any new pairs in what was being imported. this was probably applying to large regular adds in the UI, also</li>
<li>this mass-import button of 'manage tag siblings/parents' also dedupes the pairs coming in. it now shouldn't do anything like 'add, then ask to remove' if you have the same pair twice!</li>
<li>the nitter downloaders are removed from the defaults. I can't keep up with whatever the situation is there</li>
<li>the style and stylesheet names in the options are now sorted</li>
<li>sidecar importers will now work on sidecars that have uppercase .TXT or .JSON extensions</li>
</ul>
<h3 id="more_url_stuff_advanced_can_be_ignored_by_most">more URL stuff (advanced, can be ignored by most)<a class="headerlink" href="#more_url_stuff_advanced_can_be_ignored_by_most" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed up the recent URL encoding tech to properly follow the encoding exceptions as under RFC 3986. an '@' in an URL shouldn't get messed up now. thanks to the user(s) who helped here</li>
<li>incoming URLs can now have a mix of encoded and non-encoded characters and the 'ensure URL is encoded' process will accept it and encode the non-encoded parts, idempotently. it only fails on ingesting a legit decoded percent character that happens to be followed by two hex chars, but that's rare enough we don't really have to worry</li>
<li>you can similarly now enter multiple tags in a query text that are a mix of encoded and non-encoded, a mix of %20 and spaces, and it should figure it out</li>
<li>the 'ensure URL is encoded' process now applies to GUG-generated URLs, and in the edit GUG UI, you now see the normalised 'for server' URL, with any additional tokens or whatever the URL class has</li>
<li>GUGs also try to recognise if their replacement phrase is going into the path or the parameters now, and only force-encodes everything if it looks like our tags are going into a query param</li>
<li>ensured that what you paste into an 'edit URL Class' panel's 'example url' section gets encoded before normalisation just as it would in engine</li>
<li>the file log right-click now shows both the normalised and request urls under the 'additional urls' section, if they differ from the pretty human URL in the list</li>
<li>right-clicking a single item in the downloader search log now previews the specific request URL to be copied</li>
</ul>
<h3 id="boring_stuff">boring stuff<a class="headerlink" href="#boring_stuff" title="Permanent link">&para;</a></h3>
<ul>
<li>all instances of URL path or parameter encoding now go through one location that obeys RFC 3986</li>
<li>replaced my various uses of the unusual <code>ParseResult</code> with <code>urllib.parse.urlunparse</code></li>
<li>added a couple unit tests for the improved URL encoding tech</li>
<li>added some unit tests for the GUGs' new encoding tech</li>
<li>harmonised how a file is opened in the OS file explorer in the media results and media canvas pages. what was previously random hardcode, duplicated internal method calls, and ancient pubsub redirects now all goes thorugh the application command system to a singular isolated media-actioning method</li>
<li>did the same harmonisation for opening files externally</li>
<li>and for opening files in your web browser, which gets additional new infrastructure so it can plug into the shortcuts system</li>
<li>and to a lesser degree the 'open in a new page' and 'open in a new duplicates filter page' commands</li>
<li>moved the various gui-side media python files to a new 'gui.media' module. renamed <code>ClientGUIMedia</code> to <code>ClientGUISimpleActions</code> and <code>ClientGUIMediaActions</code> to <code>ClientGUIModalActions</code> and shuffled their methods back and forth a bit</li>
<li>cleaned up <code>ClientGUIFunctions</code> and <code>ClientGUICommon</code> and their imports a little with some similar shuffle-refactoring</li>
<li>broke up <code>ClientGUIControls</code> into a bunch of smaller, defined files, mostly to untangle imports</li>
<li>cleaned up how some text and exceptions are split by newlines to handle different sorts of newline, and cleaned up how I fetch the first 'summary' line of text in all cases across the program</li>
<li>replaced <code>os.linesep</code> with <code>\n</code> across the program. Qt only wants <code>\n</code> anyway, most logging wants <code>\n</code> (and sometimes converts on the fly behind the scenes), and this helps KISS otherwise. I might bring back <code>os.linesep</code> for sidecars and stuff if it proves a problem, but most text editors and scripting languages are very happy with <code>\n</code>, so we'll see</li>
<li>multi-column lists now show multiline tooltips if the underlying text in the cell was originally multiline (although tbh this is rare)</li>
</ul>
<h2 id="version_569"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v569">Version 569</a><a class="headerlink" href="#version_569" title="Permanent link">&para;</a></h2>
<h3 id="user_contributions">user contributions<a class="headerlink" href="#user_contributions" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to a user, fixed a problem with the recent URL changes that caused downloaders examining multi-file posts to only grab the first file</li>
<li>thanks to a user, all the menubar commands that launch a modal dialog are now suffix'd by an ellipsis</li>
<li>thanks to a user, fixed an issue regarding KDE 6 quitting the program as soon as the pre-boot 'your database is missing a location, let's find it' repair dialog was ok'd</li>
<li>thanks to a user, the application icon is fixed in KDE Plasma Wayland (and anything else that pulls icon from .desktop file). if you have been using a hydrus.desktop file and don't see a program icon, you should rename it to <code>/usr/share/applications/io.github.hydrusnetwork.hydrus.desktop</code> . more importantly, if you manage a package for hydrus--please output to this file path instead of <code>hydrus.desktop</code> if you make one</li>
<li>thanks to a user, updated the <code>hydrus_client.sh</code> file to include <code>"$@"</code>, which passes parameters given to the .sh file to the .py call</li>
</ul>
<h3 id="more_on_last_weeks_url_work">more on last week's URL work<a class="headerlink" href="#more_on_last_weeks_url_work" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed the 'show the Request URL under "additional urls" submenu' thing on the file log list menu. I screwed up the logic and was effectively testing for when <code>1 != 1</code></li>
<li>the converter that generates a Referral URL now operates on the API/redirect conversion principle too--it normalises the Source URL to its 'Request URL' state--keeping defined ephemeral params and filling in defaults but dropping any extra gubbins not asked for--before applying the conversion</li>
<li>fixed the 'manage url class' dialog to correctly display an example API/redirect-converted URL based on the new <em>request url</em>, not the <em>normalised url</em> (so the api/redirect example will now show the new ephemeral params properly). this was working in requests correctly behind the scenes, it was just the example text box in the dialog that was showing wrong</li>
<li>improved the 'is this query text pre-encoded?' test to check for <code>%hh</code>, where <code>h</code> is a hexadecimal character, instead of the hackier 'is % in it while not followed by whitespace or end of string?'</li>
<li>improved/simplified/optimised the overall procedure that figures out if an entered URL is pre-encoded or not. this routine now only runs at the stage where a URL is ingested and it obeys the <code>%hh</code> rule. these ingestion points are currently: the text boxes in a urls downloader/simple downloader page; the 'import new sources' function of file log menus; a URL <code>ContentParser</code> in the parsing system; the test box in <code>manage url classes</code>; and the main gui's 'import url' landing pad, which is used by the drag and drop system, the clipboard watcher, and the client api's 'import url' command. note that this does not occur on 'manage known urls' editing, where you can do what you want with whatever, and I won't coerce it to anything</li>
</ul>
<h3 id="misc_1">misc<a class="headerlink" href="#misc_1" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed a variety of logical cases around &gt;0, =0, !=0, &lt;0 for the <code>NumberTest</code> objects I recently applied to system:duration and elsewhere. when it comes to file searching, files that have 'None' duration are now considered equivalent to files that have an explicit 0 duration in all cases. previously, I was trying to thread a needle where '=0' would find null results but &lt;x would not, and it was a mess. now it all works the same way. if you want to search for 'duration &lt; x' and want to exclude still images, either add a filetype pred or slap on 'has duration'</li>
<li>improved the stability of the manual file exporter process. it was consulting an object in a thread that it shouldn't have</li>
<li>improved the ability of the manual file exporter process to report errors on a very large export that encounters errors after the dialog has closed</li>
<li>fixed the 'remember last used default tag service in manage tag dialogs' and its accompanying dropdown not saving their current value on options dialog ok. sorry for the trouble!</li>
<li>fixed the system that truncates very long filenames (for export folders and drag and drop exports) on Linux when the exporter is also outputting a sidecar that has a long extra suffix</li>
<li>the 'find potential duplicate pairs' routine that runs in idle time now properly obeys the work/rest times in <code>options-&gt;maintenance and processing</code>. previously, it was just the 'run now' routine that was resting in that way, and the idle thing was just doing a hardcoded 'work for 60 seconds every 10 mins or so'. thanks to the reporting user who cleverly noticed this</li>
<li>the <code>options-&gt;connection</code> page now mentions your proxy needs to be <code>http://</code></li>
</ul>
<h3 id="boring_stuff_1">boring stuff<a class="headerlink" href="#boring_stuff_1" title="Permanent link">&para;</a></h3>
<ul>
<li>updated the windows setup_venv.bat to allow for custom python or venv locations using parameters. this was so I could set up a multi-python testing situation easier</li>
<li>added some unit tests for the new URL encoding gubbins</li>
<li>improved un-encoded URL parsing in the downloader when the URL is relative and needs to be joined to the source url</li>
<li>improved some URL parsing and ingestion to better handle urls with non-ascii characters in the domain</li>
<li>replaced several 'does it start with "http"?' areas with a better and unified scheme/netloc test</li>
<li>wrote a routine to split URL paths into path components, and spammed it everywhere so this code is now unified. I expect we'll get a <code>PathComponent</code> class at some point, too. there will be a future question about what to do with double slashes, <code>//</code> in paths--it turns out the logic has been mixed here, and I think I will probably collapse them to <code>/</code> in all cases</li>
<li>rewrote an unhealthy call that indirectly caused the above multi-file post parsing problem</li>
<li>fixed some None/0 <code>NumberTest</code> stuff if you manage to enter '&lt;0' or &gt;-5 and similar</li>
<li>I figured out the problems with PyInstaller 6.x and some other stuff, there should be a 'Future Build' alongside this release in github for advanced users to test with</li>
</ul>
<h2 id="version_568"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v568">Version 568</a><a class="headerlink" href="#version_568" title="Permanent link">&para;</a></h2>
<h3 id="user_contributions_1">user contributions<a class="headerlink" href="#user_contributions_1" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to a user, the new docx, pptx, and xlsx support is improved, with better thumbnails (better ratio, better icon itself, and sometimes an actual preview thumbnail for pptx), better file detection (fewer false positives with stuff like ppt templates), and word count for docx and pptx. I am queueing everyone's existing docx and pptx files for a metadata rescan and thumbnail regen on update</li>
<li>thanks to a user, the cbz scanner now ignores the <code>__MACOSX</code> folder</li>
<li>thanks to a user, setting the Qt style in <em>options-&gt;style</em> should be more reliable (fixing some name case sensitivity issues)</li>
<li>thanks to a user, there's a new 'default' dark mode QSS stylesheet that has nicer valid/invalid colours. we'll build on this and try to detect dark mode better in future and auto-switch to this as the base when the application is in dark mode.</li>
</ul>
<h3 id="misc_improvements">misc improvements<a class="headerlink" href="#misc_improvements" title="Permanent link">&para;</a></h3>
<ul>
<li>added a 'tag in reverse' checkbox to the new incremental tagger panel. this simply applies the given iterator to the last file first and then works backwards, e.g. 5, 4, 3, 2, 1 for start=1, step=1 on five files</li>
<li>all <em>new</em> system:url predicates will have slightly different (standardised) labels, and all these labels should parse correctly in the system predicate parser if you copy/paste</li>
<li>the file log's right-click menu, the part where it says 'additional urls', is now more compact and will show the 'request url', if that differs from the main url, either because of the new ephemeral parameters or an api/redirect. it is now much easier to debug the various 'what was actually sent to the server?' problems!</li>
<li>you should now be able to enter 'system:has url matching regex (regex with upper case)' and 'system:has url (url with upper case)' and it'll propagate through parsing. this definitely has not broken any other predicate parsing. you can enter url class names with upper case if you want, but url class names should now match regardless of letter case</li>
<li>if you have added, edited, or deleted any url classes and try to cancel the 'manage url classes' dialog, it will now ask if that is correct</li>
<li>added a new EXPERIMENTAL checkbox to <em>options-&gt;tag presentation</em> that will replace emojis and other unicode symbol garbage with . if you have crazy rendering for emoji stuff, try it out</li>
<li>the tag summary generators that make thumbnail banners now wash their tags through the 'render tag for user' system, which will apply this new emoji rule and 'replace underscores with spaces'</li>
<li>added the 'rating' parser from the default gelbooru 0.2.5 parser to the 0.2.0 parser; this should add for more 'rating' parsing from a variety of boorus</li>
</ul>
<h3 id="misc_fixes">misc fixes<a class="headerlink" href="#misc_fixes" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed a typo bug when deleting domain-based timestamps in the edit times dialog</li>
<li>fixed the 'system:has url matching class (blah)' predicate edit panel's initialisation. it was always initialising to the top of the list, not remembering the 'default' or 'I want to edit this' value it was initialising with</li>
<li>'manage urls' now asks if it is ok to ok if you have any text still in the input</li>
<li>you can now open the 'extra info' button (up top of a media viewer) on a jpeg if that jpeg has no exif or other human-readable metadata (to see just the progressive and subsampling info)</li>
<li>updated the QuickSync link to its new home at https://breadthread.duckdns.org/</li>
</ul>
<h3 id="append_random_text">append random text<a class="headerlink" href="#append_random_text" title="Permanent link">&para;</a></h3>
<ul>
<li>the String Converter has a new step type: 'append random text'. you supply the population (e.g. '0123456789abcdef') and the number of characters (e.g. 16), and it will append 'b2f96e8eda457a1e', and then the next time you check, '1fa591ad9786ea3b', etc... useful if you want to, say, make up a new token</li>
</ul>
<h3 id="url_storagedisplay_changes">URL storage/display changes<a class="headerlink" href="#url_storagedisplay_changes" title="Permanent link">&para;</a></h3>
<ul>
<li>today I correct a foolish decision I made when I first implemented the hydrus downloader engine--handling and storing URLs internally as 'pretty' decoded text, rather than with the proper ugly '%20" stuff you sometimes see. I now store urls as the 'encoded' variant all the time, and only convert to the pretty version when the user sees it. this improves support for weird URLs and simplifies some behind the scenes. you do not need to do anything, and everything should work pretty much as before, but there is a chance some particularly funky URLs will redownload one more time if your subscription runs into them again (this change breaks some 'known url' checking logic, since what is stored is now slightly different, but this 99% doesn't affect Post URLs, so no big worries)</li>
<li>so, while URLs still show pretty in a file/search log, if you copy them to clipboard, you now get the encoded version--pretty much how your web browser address bar works. I have made it show 'pretty' in the file log and search log lists, 'copy url' menu labels, and hyperlink tooltips, but in the more technical 'manage url classes' and 'manage GUGs' and so on where you are actually editing a URL, it shows the encoded version. let me know if I have forgotten to display them pretty anywhere!</li>
<li><strong>IF YOU ARE AN ADVANCED USER WHO MAKES CRAZY URL CLASSES:</strong> since URLs are now stored as the %-encoded version in all cases, component and parameter tests now apply to %-encoding (e.g. you are now testing for <code>post%5Bid%5D</code>, not <code>post[id]</code>). when your URL Classes update this week, I convert existing path component defaults, parameter names and defaults, and <code>fixed_text</code> String Matches for path component names and parameter values to their %-encoded value. I hope this will provide for a clean transition where it matters. unfortunately, if the String Matches were a regex or you were pulling a rabbit out of your hat with edge-case pre-%-encoded default values, I just can't auto-convert that, so please scroll down your crazier URL Classes and see if any say they don't match their example URLs!</li>
<li>there's also some GUG work. when you enter a query text like <code>male/female</code> or <code>blonde_hair%20blue_eyes</code>, some new logic tries to infer whether what you entered is pre-encoded or not. it should handle pretty much everything well unless you have a single-tag query with a legit percent character in the middle (in which case you'll have to enter <code>%25</code> instead, but we'll see if it ever happens)</li>
<li>these changes simplify the url parsing routine, eliminating plenty of nonsense hackery I've inserted over the years to make things like <code>6+girls blonde_hair</code>/<code>6%2Bgirls+blonde_hair</code> work with a merged system. this has mostly been a delicate cleanup job; long planned, finally triggered</li>
</ul>
<h3 id="allow_all_ephemeral_parameters">allow all ephemeral parameters<a class="headerlink" href="#allow_all_ephemeral_parameters" title="Permanent link">&para;</a></h3>
<ul>
<li>URL Classes have a new checkbox, 'keep extra parameters for server', which will determine whether URLs should hang on to undefined parameters in the first stage of normalisation, which governs what is sent to the server. this is now default True on all new URL Classes! existing URL Classes will default True only if the URL Class is a Gallery/Watchable URL without an API/redirect converter (which was essentially the previous hardcoded behaviour). you cannot set this value if the URL has an API/redirect converter</li>
</ul>
<h3 id="allow_specific_ephemeral_parameters">allow specific ephemeral parameters<a class="headerlink" href="#allow_specific_ephemeral_parameters" title="Permanent link">&para;</a></h3>
<ul>
<li>alternately, you can now specify single 'ephemeral token' parameters in the new parameter edit dialog. it is just a check box that says 'use this for the request, but don't save it'. these <em>are</em> kept for the API/redirect URL</li>
<li>if you are feeling extremely big brain, there is now a String Processor for the default value, if both 'is ephemeral?' is checked and 'default value' is not 'None'. this lets you append/replace your fixed default value with the current time, or, now, just some random hex or something! hence we can now define our own basic one-time token generators for telling caches to give us original quality etc...</li>
</ul>
<h3 id="manage_url_classes_dialog">manage url classes dialog<a class="headerlink" href="#manage_url_classes_dialog" title="Permanent link">&para;</a></h3>
<ul>
<li>there's a new read-only text field with the 'example url' and 'normalised url' section called 'request url'. this shows either the example URL with its extra, ephemeral parameters, or it will show the API/redirect URL. it shows what will be sent to the server</li>
<li>URL Class parameters now have their own edit panel, with everything available in one place, rather than the three-dialogs-in-a-row mess of before. also, the name and value widgets have locked normal/%-encoded text inputs that will live update each other, so you can paste whatever is convenient for you and see a preview either way</li>
<li>URL Class path components also have their own edit panel. same deal as for parameters, but a little simpler</li>
</ul>
<h3 id="client_api">client api<a class="headerlink" href="#client_api" title="Permanent link">&para;</a></h3>
<ul>
<li>the <code>/add_urls/get_url_info</code> command now returns <code>request_url</code> value, which is either the 'for server' normalised URL, which may include ephemeral tokens, or the API/redirect URL, just as in the new 'manage url classes' dialog</li>
<li>the <code>/add_files/undelete_files</code> command now filters the files you give it to make sure that they are actually in your file storage. no more undeleting files you don't have!</li>
<li>added a new <code>/add_files/clear_file_deletion_record</code> command, which erases deletion records for physically deleted files</li>
<li>updated api help docs and unit tests for the above</li>
<li>client api version is now 63</li>
</ul>
<h3 id="boring_stuff_2">boring stuff<a class="headerlink" href="#boring_stuff_2" title="Permanent link">&para;</a></h3>
<ul>
<li>the client is now much more robust if any of its URL Classes do not match their own example URLs. it will boot, to start with (lol), and you can now open the 'manage url classes' dialog without UI error popups. manage url classes now notes which URL Classes do not match their own example URLs, for easy skimming</li>
<li>the 'URL Class' class has a new buddy 'Parameter' class to handle param testing</li>
<li>simplified some of the guts of URL normalisation, from path/param clipping to how API URL generation is navigated</li>
<li>rewrote how the query string of a URL is deconstructed and scanned against your parameters. less chance of edge-case errors/merges and easier to expand in future</li>
<li>when you paste a URL, some new normalisation tech tries to figure out if it is pre-encoded or not</li>
<li>brushed up the URL Class unit tests to account for the above changes and added new tests for encoding, 'is ephemeral', 'keep extra params for server', default parameter string processors, and simple default parameter values (which must have been missed a long time ago)</li>
<li>also broke the monolithic url class unit test into eight smaller (albeit ugly for now) pieces</li>
<li>added a unit test for the new 'append random text' converter</li>
<li>cleaned up some misc URL Class code</li>
</ul>
<h2 id="version_567_was_cancelled_its_changes_folded_into_568">Version 567 was cancelled, its changes folded into 568.<a class="headerlink" href="#version_567_was_cancelled_its_changes_folded_into_568" title="Permanent link">&para;</a></h2>
<h2 id="version_566"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v566">Version 566</a><a class="headerlink" href="#version_566" title="Permanent link">&para;</a></h2>
<h3 id="incremental_tagging">incremental tagging<a class="headerlink" href="#incremental_tagging" title="Permanent link">&para;</a></h3>
<ul>
<li>when you boot a 'manage tags' dialog on multiple files, a new <code></code> button now lets you do 'incremental tagging'. this is where you, let's say for twenty files, tag them from page:1-&gt;page:20. this has been a long time in the works, but now we have thumbnail reorganisation tech, it is now sensible to do.</li>
<li>the dialog lets you set a namespace (or none), start point (e.g. you can start tagging at page:19 if you are doing the second chapter etc...), the step (you can count by +2 every file, instead of +1, or even -1 to decrement), the subtag prefix (so you can say 'page:insert-4' or something), and the subtag suffix (for, say, 'page:2 (wip)')</li>
<li>the last namespace is remembered between dialog opens, and if the first file in the selection has a number tag in that namespace, that is the number the 'start' will initialise with. a bit of overlap/prep may save time here!</li>
<li>the prefix and suffix are remembered between dialog opens</li>
<li>a status text gives you a live preview of what you will be adding and says whether any of the files already have exactly those tags or have different tags under the same namespace (which would be possible conflicts, suggesting you are not lined up correct)</li>
</ul>
<h3 id="misc_2">misc<a class="headerlink" href="#misc_2" title="Permanent link">&para;</a></h3>
<ul>
<li>added import support for .docx, .xlsx, and .pptx files (the Microsoft Open XML Formats). they get icons, not much else. they are secretly zips, so <strong>on update, you will be asked if you want to scan your existing zips for these formats</strong></li>
<li>when you move a window to another screen in a maximised state (e.g. on Windows you can do this with win+shift+arrow), the system that remembers window coordinates will now register and save this. the 'restore' window size is preserved from whatever it was on the previous screen while the 'restore' position will try to stay the same on the new monitor (e.g. if it was at (200, 400) on the old monitor, it will try to do the same on the new) as long as the window fits, otherwise it is moved to (20,20) on the new screen</li>
<li>the 'edit string converter' panel no longer requires you to enter an example text that can be converted. you can see the error on the dialog, so if you don't want to fix it, or you just need to nip in and out testing things, it is now up to you</li>
<li>if the database takes a long time to update, the 'just woke up from sleep' state should no longer trigger. the system thought the long weird early delay was the computer going to sleep</li>
<li>the system that gives a popup and then a dialog when you have 165+ (and then 500+ or so) pages open is now removed. this was always a wx thing primarily, and Qt is much happier about having a whole load of UI elements. the main problem here is now memory blot and UI-update lag. this is now in the user's hands alone, no more bothering from me (unless it becomes a new problem, and I'll figure out a better warning test/system)</li>
</ul>
<h3 id="boring_code_cleanup">boring code cleanup<a class="headerlink" href="#boring_code_cleanup" title="Permanent link">&para;</a></h3>
<ul>
<li>neatened how some manage tags ui is initialised. there's a hair of a chance this fixes the 'the manage tags dialog taglist is cut off sometimes' bug</li>
<li>neatened how some pending content updates are held in manage tags</li>
<li>manage tags dialogs now receive their media list in the same order as the underlying thumbnail selection, ha ha ha</li>
<li>untangled some of the presentation import options. stuff like 'is new or in inbox' gets slightly better description labels and cleaner actual logic code</li>
<li>fixed some type issues, some typo'd pubsubs, and other misc linting</li>
<li>tried last week's aborted github build update again. the build is now Node 20 compatible</li>
</ul>
<h2 id="version_565"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v565">Version 565</a><a class="headerlink" href="#version_565" title="Permanent link">&para;</a></h2>
<h3 id="tag_sorting_bonanza">tag sorting bonanza<a class="headerlink" href="#tag_sorting_bonanza" title="Permanent link">&para;</a></h3>
<ul>
<li><em>options-&gt;sort/collect</em> now offers four places to customise default tag sort. instead of having one default sort for everything, there's now sort for search pages, media viewers, and the manage tags dialogs launched off of them</li>
</ul>
<h3 id="tag_filter">tag filter<a class="headerlink" href="#tag_filter" title="Permanent link">&para;</a></h3>
<ul>
<li>when you copy namespaces from the tag filter list, it now copies the actual underlying data text like <code>character:</code>, which you can paste in elsewhere, rather than the pretty <code>"character" tags</code> display text</li>
<li>brushed up some of the UI and help text on the tag filter UI</li>
<li>fixed a couple places where the tag copy menus were trying to let you copy an empty string, which ended up with <code>-invalid label-</code></li>
<li>fixed some extremely janked-out logic in the tag filter that was sending <code>(un)namespaced tags</code> to the 'except for these' advanced whitelist in many cases. it was technically ok, but not ideal and overall inhuman</li>
</ul>
<h3 id="concatenated_source_urls">concatenated source urls<a class="headerlink" href="#concatenated_source_urls" title="Permanent link">&para;</a></h3>
<ul>
<li>on rule34.xxx and probably some other places, when the file has multiple source urls, the gelbooru-style parsers were pulling the urls in the format [ A, B, C, 'A B C' ], adding this weird extra string concatenation that is obviously invalid. I fixed the parsers so it won't happen again</li>
<li><strong>on update, you are going to get a couple of yes/no dialogs asking if you want to scan for and delete existing instances of these URLs</strong>. if you have a big client, it will take some time to do this scan. the yes/no dialogs will auto-yes after ten minutes, so if you are doing a headless update via docker or something, please be patient--it will go through</li>
</ul>
<h3 id="note_sidecars">note sidecars<a class="headerlink" href="#note_sidecars" title="Permanent link">&para;</a></h3>
<ul>
<li>the note-&gt;media sidecar exporter module now has a 'forced name' input. if you want to parse a single note from a .txt or .json that doesn't have a name, you can now force it</li>
<li>the sidecard txt separator dropdown in the .txt importer module now has a 'four pipes (||||)' entry in the dropdown as a quick-select beside 'newline'. four pipes is a useful separator of multi-line notes content since it almost certainly won't come up in a normal note</li>
<li>some tooltips and stuff are updated around here to better explain what the hell is going on</li>
<li>added a unit test to test the forced name</li>
</ul>
<h3 id="misc_3">misc<a class="headerlink" href="#misc_3" title="Permanent link">&para;</a></h3>
<ul>
<li>to help the recent shortcuts change that merged <code>numpad</code> variants of + and left arrow and so on into being seen as the <code>unmodified</code> variants, if you have a saved shortcut that <em>is</em> still the <code>numpad</code> variant, it will now match the <code>unmodified</code> input when the merge mode is on. just means you don't have to remap everything with this mode on--everything merged matches everything</li>
<li>added 'copy file known urls' to the 'media' shortcut set</li>
<li>I forgot to mention last week that we figured out more native global menubar tech (where the top menubar of the program will embed into your OS's top system menubar) in last week's release, for non-macOS (some versions of Linux) users. the new checkbox is under <em>gui-&gt;Use Native MenuBar</em>. it defaults to on for macOS and off for everyone else, but feel free to try it. there was a related 'my menubar is now messed up, why?' bug that hit some people in v564 that is fixed today. sorry if you got boshed by this, since it was tricky to manually fix. in future, note you can hit ctrl+p in a default client to bring up the command palette, and then you can type 'options' and can open the options that way, if your menubar isn't working!</li>
<li>fixed the <code>ideal usage</code> calculation in <em>database-&gt;move media files</em> when there are three or more competing storage locations with two or more having a max size that is exceeded by their weight, and one or more having a max size that is only exceeded by their weight a little bit. due to a mistake in how total remaining weight was calculated in the little behind the scenes elimination game here, a location in this situation was exceeding its max size amount by a multiple of <code>1/(1-total_normalised_weight_of_restricted_locations)</code>, typically +10-30%. thank you for the report here, it was interesting to figure out!</li>
<li>I removed a hack that made the repositories (like the PTR) work for users running super old versions of the client. the hack has now been in place for more than a year. if you run into repository syncing problems, please update to after v511!</li>
<li>fixed a dumb status line in the 'check for missing/invalid files' checker thah was double-counting bad files in the popup</li>
<li>fixed some media duration 'second' components being rendered with extraneous .0, like '30.0 seconds'</li>
<li>fixed a db routine that fetches a huge table in pieces to not repeat a few rows when the ids it is fetching are non-contiguous, and to report the correct quantity of work done as a result (it was saying like 17,563/17,562)</li>
<li>the new <em>help-&gt;about</em> Qt platformName addition will now say if the actual platformName differs from the running platformName (e.g. if it was set otherwise with a Qt launch parameter)</li>
</ul>
<h3 id="client_api_1">client api<a class="headerlink" href="#client_api_1" title="Permanent link">&para;</a></h3>
<ul>
<li>just a small thing, but the under-documented <code>/manage_database/get_client_options</code> call now says the four types of default tag sort. I left the old key, <code>default_tag_sort</code>, in so as not to break stuff, but it is just a copy of the <code>search_page</code> variant in the new <code>default_tag_sort_xxx</code> foursome</li>
<li>client api version is now 62</li>
</ul>
<h2 id="version_564"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v564">Version 564</a><a class="headerlink" href="#version_564" title="Permanent link">&para;</a></h2>
<h3 id="more_macos_work">more macOS work<a class="headerlink" href="#more_macos_work" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to a user, we have more macOS features:</li>
<li>macOS users get a new shortcut action, default Space, that uses Quick Look to preview a thumbnail like you can in Finder. <strong>all existing users will get the new shortcut!</strong></li>
<li>the hydrus .app now has the version number in Get Info</li>
<li><strong>macOS users who run from source should rebuild their venvs this week!</strong> if you don't, then trying this new Quick Look feature will just give you an error notification</li>
</ul>
<h3 id="new_fuzzy_operator_math_in_system_predicates">new fuzzy operator math in system predicates<a class="headerlink" href="#new_fuzzy_operator_math_in_system_predicates" title="Permanent link">&para;</a></h3>
<ul>
<li>the system predicates for width, height, num_notes, num_words, num_urls, num_frames, duration, and framerate now support two different kinds of approximate equals, : absolute (x), and percentage (x%). previously, the  secretly just did 15% in all cases (issue #1468)</li>
<li>all <code>system:framerate=x</code> searches are now converted to <code>5%</code>, which is what they were behind the scenes. <code>!=</code> framerate stuff is no longer supported, so if you happened to use it, it is now converted to <code>&lt;</code> just as a valid fallback</li>
<li><code>system:duration</code> gets the same thing, <code>5%</code>. it wasn't doing this behind the scenes before, but it should have been!</li>
<li><code>system:duration</code> also now allows hours and minutes input, if you need longer!</li>
<li>for now, the parsing system is not updated to specify the % or absolute  values. it will remain the same as the old system, with 15% as the default for a <code>~=</code> input</li>
<li>there's still a little borked logic in these combined types. if you search <code>&lt; 3 URLs</code>, that will return files with 0 URLs, and same for <code>num_notes</code>, but if you search <code>&lt; 200px width</code> or any of the others I changed this week, that won't return a PDF that has no width (although it will return a damaged file that reports 0 width specifically). I am going to think about this, since there isn't an easy one-size-fits-all-solution to marry what is technically correct with what is actually convenient. I'll probably add a checkbox that says whether to include 'Null' values or not and default that True/False depending on the situation; let me know what you think!</li>
</ul>
<h3 id="misc_4">misc<a class="headerlink" href="#misc_4" title="Permanent link">&para;</a></h3>
<ul>
<li>I have taken out Space as the default for archive/delete filter 'keep' and duplicate filter 'this is better, delete other'. Space is now exclusively, by default, media pause/play. <strong>I am going to set this to existing users too, deleting/overwriting what Space does for you, if you are still set to the defaults</strong></li>
<li>integer percentages are now rendered without the trailing <code>.0</code>. <code>15%</code>, not <code>15.0%</code></li>
<li>when you 'open externally', 'open in web browser', or 'open path' from a thumbnail, the preview viewer now pauses rather than clears completely</li>
<li>fixed the edit shortcut panel ALWAYS showing the new (home/end/left/right/to focus) dropdown for thumbnail dropdown, arrgh</li>
<li>I fixed a stupid typo that was breaking file repository file deletes</li>
<li><code>help-&gt;about</code> now shows the Qt platformName</li>
<li>added a note about bad Wayland support to the Linux 'installing' help document</li>
<li>the guy who wrote the <code>Fixing_Hydrus_Random_Crashes_Under_Linux</code> document has updated it with new information, particularly related to running hydrus fast using virtual memory on small, underpowered computers</li>
</ul>
<h3 id="client_api_2">client api<a class="headerlink" href="#client_api_2" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to a user, the undocumented API call that returns info on importer pages now includes the sha256 file hash in each import object Object</li>
<li>although it is a tiny change, let's nonetheless update the Client API version to 61</li>
</ul>
<h3 id="boring_predicate_overhaul_work">boring predicate overhaul work<a class="headerlink" href="#boring_predicate_overhaul_work" title="Permanent link">&para;</a></h3>
<ul>
<li>updated the <code>NumberTest</code> object to hold specific percentage and absolute  values</li>
<li>updated the <code>NumberTest</code> object to render itself to any number format, for instance pixels vs kilobytes vs a time delta</li>
<li>updated the <code>Predicate</code> object for system preds width, height, num_notes, num_words, num_urls, num_frames, duration, and framerate to store their operator and value as a <code>NumberTest</code>, and updated predicate string rendering, parsing, editing, database-level predicate handling</li>
<li>wrote new widgets to edit <code>NumberTest</code>s of various sorts and spammed them to these (operator, value) system predicate UI panels. we are finally clearing out some 8+-year-old jank here</li>
<li>rewrote the <code>num_notes</code> database search logic to use <code>NumberTest</code>s</li>
<li>the system preds for height, width, and framerate now say 'has x' and 'no x' when set to <code>&gt;0</code> or <code>=0</code>, although what these really mean is not perfectly defined</li>
</ul>
<h2 id="version_563"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v563">Version 563</a><a class="headerlink" href="#version_563" title="Permanent link">&para;</a></h2>
<h3 id="macos_improvements">macOS improvements<a class="headerlink" href="#macos_improvements" title="Permanent link">&para;</a></h3>
<ul>
<li>Thanks to a user, we have multiple improvements for macOS!</li>
<li>There is a new icon for the macOS .app build of hydrus</li>
<li>The macOS app will now appear as "Hydrus" in the menu bar instead of "Hydrus Network"</li>
<li>
<ul>
<li>Use the native global menu bar on macOS and some Linux desktop environments</li>
</ul>
</li>
<li>
<ul>
<li>"options" will now appear as "Preferences..." and be under the Hydrus menu on macOS</li>
</ul>
</li>
<li>
<ul>
<li>"exit" will now appear as "Quit Hydrus" and be under the Hydrus menu on macOS</li>
</ul>
</li>
<li>"exit and force shutdown maintenance", "restart", and "shortcuts" will now be under the Hydrus menu on macOS</li>
<li>The hydrus system tray icon is now enabled for macOS and "minimise to system tray" will be in the Hydrus menu when in advanced mode</li>
<li>macOS debug dialog menus are now disabled by default</li>
<li>The macOS build of hydrus now uses pyoxidizer 0.24.0 and Python 3.10</li>
<li>The command palette and hyperlinks colors in the default Qt stylesheet now use palette based colors that should change based on the Qt style</li>
<li>one thing hydev did: on macOS, Cmd+W <em>should</em> now close any dialog or non-main-gui window, just like the Escape key</li>
</ul>
<h3 id="shortcuts">shortcuts<a class="headerlink" href="#shortcuts" title="Permanent link">&para;</a></h3>
<ul>
<li>by default, Alt+Home/End/Left/Right now does the new thumbnail rearranging. <strong>assuming they do not conflict with an existing mapping, all users will recieve this on update</strong></li>
<li>by default, the shortcuts system now converts all non-number 'numpad' inputs (e.g. 'numpad Home', 'numpad Return', 'numpad Left') to just be normal inputs. a bunch of different keyboards have whack numpad assignments for non-numpad keys, so if it isn't a number, let's not, by default, make a fuss over the distinction. you can return to the old behaviour by unchecking the new checkbox under <em>file-&gt;shortcuts</em></li>
<li>the default shortcuts now no longer spam numpad variants anywhere. existing users can delete the surplus mappings (under 'thumbnails' and maybe some of the 'media' sets) if they like</li>
</ul>
<h3 id="some_ui_qol">some UI QoL<a class="headerlink" href="#some_ui_qol" title="Permanent link">&para;</a></h3>
<ul>
<li>the <em>tag service</em> menu button that appears in the autocomplete panel and sometimes some other places in advanced mode now shows a proper check mark in its menu beside its current value</li>
<li>the <em>location context</em> menu button on the other side of an autocomplete panel and some other places also now shows a check mark in its menu beside its current value</li>
<li>the <code>OR</code> button on search autocomplete that creates new OR predicates now inherits the current file search domain. it was previously defaulting at all times to the fallback file domain and 'all known tags'</li>
<li>the current search predicates list also now inherits the file search domain when you edit an OR predicate currently in use, same deal</li>
<li>removed the 'favourites' submenu from the taglist menu when no tags are selected</li>
<li>in any import context, the file log's arrow menu now supports deleting all the 'unknown' (outstanding, unstarted) items or setting them all to 'skipped'. the 'abort imports' button (with the stop icon) in HDD and urls import pages is removed</li>
</ul>
<h3 id="misc_5">misc<a class="headerlink" href="#misc_5" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed yet another dumb problem with the datetime control's paste button--although the paste was now 'working' on the UI side, the control wasn't saving that result on dialog ok. the fixes both the datetime button and the modified/file service time multi-column list editing</li>
<li>a core asynchronous thread-checking timer in the program has been rewritten from a 20ms-resolution busy-wait to a &lt;1ms proper wait/notify system. a bunch of stuff that works in a thread is now much faster to recognise that blocking UI work is done, and it is more thread-polite about how it does it!</li>
<li>in the <code>setup_venv</code> scripts, if it needs to delete an old venv directory but fails to do so, the script now dumps out with an error saying 'hey, you probably have it open in a terminal/IDE, please close that and try again'. previously, it would just charge on and produce an odd file permission error as, e.g., the new venv setup tried to overwrite the in-use python exe</li>
<li>added a <code>help-&gt;debug-&gt;gui-&gt;isolate existing mpv widgets</code> command to force regeneration of mpv windows and help test-out/hack-fix various 'every other of my mpv views has no audio' and 'my mpv loses xxx property after a system sleep/wake cycle' problems. if I've been working with you on this stuff, please give it a go and let me know if new mpv window creation is good or what!</li>
<li>added a <code>BUGFIX: Disable off-screen window rescue</code> checkbox to <code>options-&gt;gui</code> that stops windows that think they are spawning off-screen from repositioning to a known safe screen. several Qt versions have had trouble with enumerating all the screens in a multiple monitor setup and thus the safe coordinate space, so if you have been hit by false positives here, you can now turn it off! (issue #1511)</li>
<li>fixed another couple instances of error texts with empty formatting braces <code>{}</code></li>
</ul>
<h3 id="tag_repository">tag repository<a class="headerlink" href="#tag_repository" title="Permanent link">&para;</a></h3>
<ul>
<li>mapping petitions fetched from the server will now max out at 500k mapping rows or 10k unique tags or ten seconds of construction time. we had a 250k-unique-tag petition this last week and it broke something, so I'm slapping a bunch of safety rails on. let me know if these are too strict, too liberal, or if it messes with the fetch workflow at all--I don't <em>think</em> it will, but we'll see</li>
</ul>
<h3 id="build_stuff">build stuff<a class="headerlink" href="#build_stuff" title="Permanent link">&para;</a></h3>
<ul>
<li>now they have had time to breathe, I optimised the recently split Github build scripts. the 'send to an ubuntu runner and then upload' step is now removed from all three, so they are natively uploaded in the first runner step. it works just a little nicer and faster now, although it did require learning how to truncate and export a variable to the Github Environment Variables file in Powershell, aiiieeeee</li>
<li>also, Github is moving from Node 16 to Node 20 soon, and I have moved two of the four actions we rely on to their newer v20 versions. a third action should be ready to update next week, and another, a general download file function, I have replaced with curl (for macOS) and Powershell's magical Invoke-WebRequest adventure</li>
</ul>
<h2 id="version_562"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v562">Version 562</a><a class="headerlink" href="#version_562" title="Permanent link">&para;</a></h2>
<h3 id="misc_6">misc<a class="headerlink" href="#misc_6" title="Permanent link">&para;</a></h3>
<ul>
<li>page tab drag and drops will now not start unless the click has lasted more than 100ms</li>
<li>same for thumbnail drag and drop--it perviously did a 20 pixel deadzone, but time checks detect accidental/spastic clicks better and stops false negatives when you start dragging on certain edges</li>
<li>added a 'BUGFIX: disable page tab drag and drop' setting to <em>options-&gt;gui pages</em>. while adding this, I may have accidentally fixed the issue I wanted to investigate (rare hangs on page DnD)</li>
<li>the manage tags dialog now shows the current count of tags for each page tab, and, if there are outstanding changes, shows an asterisk</li>
<li>the <code>migrate database</code> dialog is renamed <code>move media files</code></li>
</ul>
<h3 id="fixes">fixes<a class="headerlink" href="#fixes" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed the basic copy/paste in the single 'edit datetime' panel, wich was often raising a dumb error. this thing also now exports millisecond data (issue #1520)</li>
<li>I am pretty sure I fixed the column-resizing problem in the very new PySide6 (Qt) 6.6.1, which it seems AUR users were recently updated to in an automatic OS update. all columns were setting to 100px width on initialisation. I think it is now safe to try out 6.6.1. I am still not sure why it was doing this, but some extra safeguards seem to have fixed it and also not broken things for &lt;=6.6.0, so let me know what you run into! if you were affected by this, recall that you can right-click on any multi-column list header and say 'reset widths' to get something sensible back here</li>
<li>when exporting files, the max size is now clipped another 84 characters (64 + 20 more, which usually ends up about 150 characters max for the output filename), in order to give padding for longer sidecar suffixes and also avoid going right to the filesystem limit, which broadly isn't sensible</li>
<li>I think I fixed an issue where the mouse could stay hidden, perhaps, just on Wayland, after closing the media viewer with your keyboard (issue #1518)</li>
<li>fixed inc/dec ratings in the media viewer not updating their tooltips on new media correctly</li>
<li>if you hit 'open this location' on the export files window and the location does not exist, you now get a nice messagebox rather than a semi-silent error</li>
</ul>
<h3 id="analyze">analyze<a class="headerlink" href="#analyze" title="Permanent link">&para;</a></h3>
<ul>
<li>background: some databases that process the PTR superfast or otherwise import a lot of data to a new file domain sometimes encounter massively massively slow tag update actions (typically tag-delete when the tags involved have siblings/parents), so I want to make the critical 'ANALYZE' call more timely</li>
<li>the 'analyze' database maintenance call will be soft-called far more regularly during normal repository processing, not just on first sync</li>
<li>sped up how some pre-analyze calculation is done</li>
<li>the size limit for automatic database analyze maintenance is raised from 100k rows to 10M</li>
<li>I hope to do more work here in future, probably making a review panel like we did for vacuum</li>
<li>if your repository processing sometimes hangs your whole damn client for 10-15 minutes, hit <em>database-&gt;db maintenance-&gt;analyze-&gt;full</em>! this job may take 30-60 minutes to finish</li>
</ul>
<h3 id="boring_code_cleanup_1">boring code cleanup<a class="headerlink" href="#boring_code_cleanup_1" title="Permanent link">&para;</a></h3>
<ul>
<li>finished the HG-&gt;CG.client_controller refactor I started last week. this was a thousand lines changed from one braindead format to another, but it will be a useful step towards untangling the hell-nest import hierarchy</li>
<li>did a scattering of the clientinterface typing, getting a feel for where I want to take this</li>
<li>deleted the old in-client server-test's 'boot' variant; this is no longer used and was always super hacky to maintain</li>
<li>I removed an old basic error raising routine that would sometimes kick in when a hash definition is missing. this routine now always fills in the missing data with garbage and does its best to recover the invalid situation automatically, with decent logging, while still informing the user that things are well busted m8. it isn't the user's job to fix this, and there is no good fix anyway, so no point halting work and giving it to the user to figure out!</li>
</ul>
<h2 id="version_561"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v561">Version 561</a><a class="headerlink" href="#version_561" title="Permanent link">&para;</a></h2>
<h3 id="rearranging_thumbnails">rearranging thumbnails<a class="headerlink" href="#rearranging_thumbnails" title="Permanent link">&para;</a></h3>
<ul>
<li>on the thumbnail menu, there is a new 'move' submenu. you can move the current selection of files to the start or end of the media list, or to one before or after the earliest selected file, or to the file you right-clicked on to create the menu, or to the first file's position if the selection is not contiguous. if the selection is non-contiguous, it will be made so in the move</li>
<li>added these rearrange commands to the shortcuts system, as 'move thumbnails' under the 'thumbnails' set. I wasn't sure whether to add some default shortcuts, like ctrl+numpad 7/&frac34;/6 for home/end/left/right or something--let me know what you think</li>
</ul>
<h3 id="misc_7">misc<a class="headerlink" href="#misc_7" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to user help, fixed a stupid typo from last week that caused some bad errors (including crashes, in some cases) when doing non-simple duplicate filtering (issue #1514). this is the issue the v560a hotfix was made for</li>
<li>fixed another stupid content update typo that was causing 'already in db' results to not get metadata updates</li>
<li>as a hardcoded shortcut, Ctrl+C or Ctrl+Insert now copies the currently selected tags in any taglist. it'll output the full tag/predicate text, with namespace, no counts</li>
<li>I've shortened some thumbnail/media-viewer menu labels, made the 'delete' line into a submenu, and ensured the top info line is always a short variant, with detailed info bumped off to the submenu off the top line. I hate how these menus are often super-wide and thus a pain to navigate to the submenus, so let me know what situations still make them wide</li>
<li>the file log arrow button menu now has entries for 'delete already in db' and 'delete everything'</li>
<li>the 'add these tags to the favourites list?' yes/no now only fires if you try to add more than five tags ot once</li>
<li>the various dialogs in the client that auto-yes or auto-no now show a live countdown in their title string</li>
<li>the window position saving system is now stricter about what it records. maximised and fullscreen state is only saved if 'remember size' is false, and the last size/position is not saved at all if 'remember size/position' is false (previously, it would save these values but not restore them, but let's try being more precise here)</li>
<li>fixed a 'omg what happened, closing the window now' error in the duplicate filter if you try to 'go back' while it is loading a new set of pairs to show</li>
<li>fixed the 'vacuum db' command to correctly save 'last vacuumed time' for all files vacuumed in a job, not just the last!</li>
<li>whenever a <code>copy2</code> file copy (which includes copying file times and permission bits) fails for permission reasons, hydrus now falls back to a normal <code>copy</code> and logs the failure, including the modified time that failed to copy (which is the bit we actually care about here)</li>
</ul>
<h3 id="db_update_stuff">db update stuff<a class="headerlink" href="#db_update_stuff" title="Permanent link">&para;</a></h3>
<ul>
<li>if there is a known bitrot issue on update, you now get a nicer error message. rather than the actual error, you are now told which version is safe to update to. to christen this system, I've added a check for the recent millisecond timestamp conversion, which caused some issues for users updating older clients. <strong>if your client is v551 or older and you try to update to v561 or later, you will be told to update to v558 first.</strong> sorry for the inconvenience here, and thank you for the reports (issue #1512)</li>
<li>if you try to boot a database more than 50 versions earlier than the code, the client-based version popups now happen in the correct order, with the &gt;50 exception firing before the &gt;15 warning</li>
<li>when an update asks a not-super-important yes/no question, I will now make it auto-yes or auto-no after ten minutes with the recommended value. this will ensure that automatic updaters will still progress (previously, they were hanging forever!)</li>
</ul>
<h3 id="some_downloader_stuff">some downloader stuff<a class="headerlink" href="#some_downloader_stuff" title="Permanent link">&para;</a></h3>
<ul>
<li>thanks to a user, the derpibooru now fetches the post description as a note and the source as an associable URL. I tweaked the submitted stuff a bit, simplifying the parsing and discluding 'No description provided.' notes</li>
<li>thanks to a user, the e621 parser can now grab files from posts where the (spicy, I think) content is normally not shown due to a guest login. the posts still won't show up in guest-login gallery searches, so this won't alter your normal results, but if you run into a post like this in your browser and drag-and-drop it onto the client, it now works</li>
<li>I tried to improve the parsing system's de-newlining. this thing is a long-time hack--I've never liked it and I want to replace it with proper multi-line support--but for now I've made sure the de-newliner strips each line of leading/trailing whitespace and discards empty lines. the mode that <em>doesn't</em> collapse newlines (note parsing, for the most part) now <em>does</em> strip leading/trailing newlines along with other whitespace, meaning you no longer have to try and strip extra <code>&lt;p&gt;</code> and <code>&lt;br&gt;</code> tags and stuff yourself when grabbing notes. also, the formula UI where it says 'Newlines are collapsed before...' now says when it won't be collapsing newlines due to it being a note parser</li>
<li>the String Match processing step now explicitly removes newlines before it runs, meaning it can still catch multi-line notes properly. you can now run a proper regex on a multi-line note</li>
</ul>
<h3 id="boring_cleanup">boring cleanup<a class="headerlink" href="#boring_cleanup" title="Permanent link">&para;</a></h3>
<ul>
<li>optimised some thumbnail handling code, stuff like fetching the current list of sorted selected media</li>
<li>large collections will be a little faster to select and otherwise do operations on</li>
<li>sketched out a new <code>ClientGlobals</code> and client controller interface and started refactoring various HG.client_controller to the new CG. this makes no important running changes, but it cleans the messy HG file and will help future coding and type checking in the IDE as it is fleshed out</li>
<li>added some help text to the edit file maintenance panel and fixed some gonk layout in the 'add new work' panel</li>
<li>fixed some instances of the 'unknown' import status showing as a blank string</li>
<li>fixed an error message in the export folder export job that fired when a file to be exported is missing--it was just giving blank instead of the file hash, and its direction to file maintenance was old and unclear</li>
</ul>
<h2 id="version_560"><a href="https://github.com/hydrusnetwork/hydrus/releases/tag/v560">Version 560</a><a class="headerlink" href="#version_560" title="Permanent link">&para;</a></h2>
<h3 id="editing_times_for_multiple_files">editing times for multiple files<a class="headerlink" href="#editing_times_for_multiple_files" title="Permanent link">&para;</a></h3>
<ul>
<li>the 'edit times' dialog is now available when you select multiple files. it will show and apply time data for all of those files at once. when the files have different times, the various widgets and panels will show ranges and a count of how many files do and don't have that particular time type</li>
<li>when you open the edit times dialog on more than one file, every time control now has a 'cascade step' section, where you can set a time delta, e.g. 100 milliseconds, and then, on dialog ok, each file in the selection that launched the dialog will be set that much successively later than the previous, obviously in the order they are currently in. this is a way of forcing/normalising file sorts based on time. negative values are allowed!</li>
<li>when the edit times dialog is set to change more than 100 total times, it now verifies with the user that this is correct on dialog ok</li>
<li>when the edit times dialog sets a lot of modified dates to files (i.e. actually writing them to your file system), this now happens in a non-gui thread and now makes a cancellable progress popup after a few seconds</li>
</ul>
<h3 id="misc_8">misc<a class="headerlink" href="#misc_8" title="Permanent link">&para;</a></h3>
<ul>
<li>fixed the 'imported to' timestamp for files migrated to other local file domains, which were one of the ones incorrectly set, as expected, to 54 years ago. in the database update, I also fix all the wrongly saved ones from v559</li>
<li>mr bones and the file history chart are now under the 'database' menu</li>
<li>fixed an issue with the file history chart not maintaining the <code>show_deleted = False</code> state through search refreshes</li>
<li>there's a new checkbox under <code>files and trash</code>, <code>Remove files from view when they are moved to another local file domain</code>. this re-introduces the unintended behaviour that I fixed recently when 'remove when trashed' was set, but now targeted specifically for that situation. if you use multiple local file domans a bunch and want files to disappear when you shoot them to a place you aren't looking at, give it a go and let me know how it works for you</li>
<li>fixed a regression from my 'remove when trashed' fix where deleting collections with this option on would leave crazy ghost thumbnails behind. collections that are completely emptied should now properly remove themselves in all content update situations</li>
<li>the gallery downloader page 'cog' icon now has a 'do not allow new duplicates' option, which will discard any (query_text,source) pairs you try to enter if they already exist in the list. this option is remembered through restarts</li>
<li>added 'sort by pixel hash' to the file sort menu. it isn't super helpful, but it'll show pairs of exact-matching files next to each other amongst a sea of noise. I may expose perceptual hashes in a similar way in future, which would be more useful, but thumbnails don't have their phashes quickly available atm, so maybe only when there are other reasons to add that overhead</li>
<li>fixed the <code>setup_venv.sh</code> and <code>setup_venv.command</code> files' custom qtpy and PySide6 (Qt stuff) version installer! there was a dumb typo, sorry for the trouble</li>
<li>thanks to a user, the derpibooru parser now grabs <code>fanfic</code>, <code>spoiler</code>, and <code>error</code> tags</li>
</ul>
<h3 id="boring_cleanup_1">boring cleanup<a class="headerlink" href="#boring_cleanup_1" title="Permanent link">&para;</a></h3>
<ul>
<li>neatened up how non-thumbnail-generatable files (e.g. rtf) present their default thumbs and refactored the code a little</li>
<li>when a file's thumbnail is unavailable but the filetype is known (e.g. you are looking at records of deleted files that have no blurhash), hydrus should now deliver that file's default thumb instead</li>
<li>unified this thumbnail-defaulting code a little more, fixing fetching for some weirder files and deduplicating some messy areas. the client thumbnail cache should be better about delivering the right unusual thumbnail now and as future filetypes are added</li>
<li>added an 'image.png' to serve as a nicer fallback for various thumbnail-undeliverable but known-image files</li>
<li>fixed rtf files not providing their rtf thumbnail in the Client API</li>
<li>fixed up some ancient local booru thumbnail fetching code</li>
<li>cleaned up some messy dialog launches that were having to navigate single/collected media in an awkward way</li>
<li>removed the TestFunctions unit test stub, which was of diminishing use</li>
</ul>
<h3 id="boring_cleanup_time_code">boring cleanup, time code<a class="headerlink" href="#boring_cleanup_time_code" title="Permanent link">&para;</a></h3>
<ul>
<li>updated the DateTime control and button to handle multiple times at once, and updated the edit timestamps dialog itself similarly throughout (this took a day and a half lol)</li>
<li>rejiggered the DateTime widgets to handle a nice new object to hold the multiple times' range, since it was all getting messy</li>
<li>rejiggered the time content update pipeline from top to bottom to take multiple hashes per content update, so applying the same timestamp to a thousand files should still be pretty quick</li>
<li>fixed up various timestamp_ms-&gt;QtDateTime conversions so they all include local timezone info. also fixed the datetime widget so it returns properly local-timezone'd datetimes. I can no longer easily reproduce a particular time that jumps an hour every time you open it (due to retroactive summer-time fun)</li>
<li>harmonised some older datestring conversions to come out 2023-06-30 instead of 2023/06/30</li>
<li>fixed some time string calculations to handle our new sub-second times better</li>
<li>updated the time delta widget to handle negative numbers</li>
</ul>
<h3 id="boring_cleanup_content_updates">boring cleanup, content updates<a class="headerlink" href="#boring_cleanup_content_updates" title="Permanent link">&para;</a></h3>
<ul>
<li>moved all <code>ContentUpdate</code> gubbins out of the hydrus module scope; it is now client only</li>
<li>made a new <code>ClientContentUpdates.py</code> to collect all content update code and refactored stuff there</li>
<li>wrote a new <code>ContentUpdatePackage</code> to replace the ancient <code>service_keys_to_content_updates</code> structure. various hacky or ad-hoc processing and presentation is now gathered under this new object, and I refactor-spammed it across the program, with too many individual changes to talk about in detail</li>
</ul>
<h3 id="client_api_3">client api<a class="headerlink" href="#client_api_3" title="Permanent link">&para;</a></h3>
<ul>
<li>the new <code>set_time</code> call has some additional safety rails. you can add (or delete) 'web domain' timestamps any time, but you now cannot add or delete any of the others, only edit when they already exist</li>
<li>updated the client api unit tests and help to account for this</li>
<li>the client api is now version 60</li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">April 10, 2024</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/hydrusnetwork/hydrus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/hydrusnetwork" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hydrus.tumblr.com/" target="_blank" rel="noopener" title="hydrus.tumblr.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:hydrus.admin@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/wPHPCUZ" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.patreon.com/hydrus_dev" target="_blank" rel="noopener" title="www.patreon.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M489.7 153.8c-.1-65.4-51-119-110.7-138.3C304.8-8.5 207-5 136.1 28.4 50.3 68.9 23.3 157.7 22.3 246.2 21.5 319 28.7 510.6 136.9 512c80.3 1 92.3-102.5 129.5-152.3 26.4-35.5 60.5-45.5 102.4-55.9 72-17.8 121.1-74.7 121-150z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tracking", "navigation.sections", "navigation.tabs", "content.tabs.link", "navigation.top", "search.suggest", "content.code.annotate", "navigation.instant", "content.action.edit"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>